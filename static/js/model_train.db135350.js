(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["model_train"],{"68d8":function(t,e,a){},7736:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-s-marketing"}),t._v(" 模型服务 ")]),a("el-breadcrumb-item",[t._v("模型训练")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"form-box"},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"任务类型"}},[a("el-radio-group",{model:{value:t.form.resource,callback:function(e){t.$set(t.form,"resource",e)},expression:"form.resource"}},[a("el-radio",{attrs:{label:"图像分类"}})],1)],1),a("el-form-item",{attrs:{label:"模型名称"}},[a("el-input",{staticStyle:{width:"210px"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"模型种类"}},[a("el-select",{attrs:{placeholder:"请选择模型种类"},model:{value:t.form.modelType,callback:function(e){t.$set(t.form,"modelType",e)},expression:"form.modelType"}},[a("el-option",{key:"efficient",attrs:{label:"efficient",value:"efficient"}}),a("el-option",{key:"resnet",attrs:{label:"resnet",value:"resnet"}}),a("el-option",{key:"xception",attrs:{label:"xception",value:"xception"}}),a("el-option",{key:"vgg",attrs:{label:"vgg",value:"vgg"}})],1)],1),a("el-form-item",{attrs:{label:"训练数据集"}},[a("el-select",{attrs:{placeholder:"请选择训练数据集"},model:{value:t.form.trainDataset,callback:function(e){t.$set(t.form,"trainDataset",e)},expression:"form.trainDataset"}},t._l(t.datasets,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"测试数据集"}},[a("el-select",{attrs:{placeholder:"请选择测试数据集"},model:{value:t.form.testDataset,callback:function(e){t.$set(t.form,"testDataset",e)},expression:"form.testDataset"}},[a("el-option",{key:"none",attrs:{label:"不使用测试数据集",value:"none"}}),t._l(t.datasets,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],2)],1),a("el-form-item",{attrs:{label:"数据增强策略"}},[a("el-radio-group",{model:{value:t.form.dataAugmentationManner,callback:function(e){t.$set(t.form,"dataAugmentationManner",e)},expression:"form.dataAugmentationManner"}},[a("el-radio",{attrs:{label:"默认配置"}}),a("el-radio",{attrs:{label:"手动配置"}})],1)],1),t.dataAugmentationMethodShow?a("div",{staticClass:"dataAugmentationForm"},[a("el-form",{ref:"form",attrs:{model:t.form,inline:!0}},[a("el-checkbox-group",{on:{change:t.dataAugmentationMethodChange},model:{value:t.form.dataAugmentationMethodFlag,callback:function(e){t.$set(t.form,"dataAugmentationMethodFlag",e)},expression:"form.dataAugmentationMethodFlag"}},[t.dataAugmentationMethodShow?a("div",{staticClass:"method_item"},[a("el-checkbox",{attrs:{label:"rotation_range",name:"type"}},[t._v("图像旋转")]),t.form.dataAugmentationMethodShowFlag.rotate?a("el-form-item",{attrs:{label:"旋转角度"}}):t._e(),t.form.dataAugmentationMethodShowFlag.rotate?a("el-input-number",{attrs:{"controls-position":"right",min:1,max:90},model:{value:t.form.dataAugmentationParam.rotateAngle,callback:function(e){t.$set(t.form.dataAugmentationParam,"rotateAngle",e)},expression:"form.dataAugmentationParam.rotateAngle"}}):t._e()],1):t._e(),a("div",{staticClass:"method_item"},[a("el-checkbox",{attrs:{label:"width_shift_range",name:"type"}},[t._v("水平偏移")]),t.form.dataAugmentationMethodShowFlag.shiftX?a("el-form-item",{attrs:{label:"偏移幅度"}}):t._e(),t.form.dataAugmentationMethodShowFlag.shiftX?a("el-input-number",{attrs:{"controls-position":"right",min:1,max:90},model:{value:t.form.dataAugmentationParam.shiftX,callback:function(e){t.$set(t.form.dataAugmentationParam,"shiftX",e)},expression:"form.dataAugmentationParam.shiftX"}}):t._e()],1),a("div",{staticClass:"method_item"},[a("el-checkbox",{attrs:{label:"height_shift_range",name:"type"}},[t._v("竖直偏移")]),t.form.dataAugmentationMethodShowFlag.shiftY?a("el-form-item",{attrs:{label:"偏移幅度"}}):t._e(),t.form.dataAugmentationMethodShowFlag.shiftY?a("el-input-number",{attrs:{"controls-position":"right",min:1,max:90},model:{value:t.form.dataAugmentationParam.shiftY,callback:function(e){t.$set(t.form.dataAugmentationParam,"shiftY",e)},expression:"form.dataAugmentationParam.shiftY"}}):t._e()],1),a("div",{staticClass:"method_item"},[a("el-checkbox",{attrs:{label:"shear_range",name:"type"}},[t._v("图像错切")]),t.form.dataAugmentationMethodShowFlag.shear?a("el-form-item",{attrs:{label:"错切强度"}}):t._e(),t.form.dataAugmentationMethodShowFlag.shear?a("el-input-number",{attrs:{"controls-position":"right",min:1,max:90},model:{value:t.form.dataAugmentationParam.shearRange,callback:function(e){t.$set(t.form.dataAugmentationParam,"shearRange",e)},expression:"form.dataAugmentationParam.shearRange"}}):t._e()],1),a("div",{staticClass:"method_item"},[a("el-checkbox",{attrs:{label:"zca_whitening",name:"type"}},[t._v("ZCA白化")])],1),a("br"),a("div",{staticClass:"method_item"},[a("el-checkbox",{attrs:{label:"featurewise_center",name:"type"}},[t._v("数据集去中心化")])],1),a("br"),a("div",{staticClass:"method_item"},[a("el-checkbox",{attrs:{label:"featurewise_std_normalization",name:"type"}},[t._v("数据集标准化")])],1),a("br"),a("div",{staticClass:"method_item"},[a("el-checkbox",{attrs:{label:"samplewise_center",name:"type"}},[t._v("样本去中心化")])],1),a("br"),a("div",{staticClass:"method_item"},[a("el-checkbox",{attrs:{label:"samplewise_std_normalization",name:"type"}},[t._v("样本标准化")])],1),a("br"),a("div",{staticClass:"method_item"},[a("el-checkbox",{attrs:{label:"horizontal_flip",name:"type"}},[t._v("随机水平翻转")])],1),a("br"),a("div",{staticClass:"method_item"},[a("el-checkbox",{attrs:{label:"vertical_flip",name:"type"}},[t._v("随机竖直翻转")])],1),a("br")])],1)],1):t._e(),t.autoSerchShow?a("el-form-item",{attrs:{label:"模型搜索算法"}},[a("el-select",{attrs:{placeholder:"请选择模型搜索算法"},model:{value:t.form.autoSearchMethod,callback:function(e){t.$set(t.form,"autoSearchMethod",e)},expression:"form.autoSearchMethod"}},t._l(t.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1):t._e(),t.selfDefineParamShow?a("el-form-item",{attrs:{label:"自定义超参数"}},[a("el-input",{attrs:{type:"textarea",rows:"9"},model:{value:t.form.selfDefinitionSuperParameter,callback:function(e){t.$set(t.form,"selfDefinitionSuperParameter",e)},expression:"form.selfDefinitionSuperParameter"}})],1):t._e(),a("el-form-item",{attrs:{label:"训练轮数"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{type:"number"},model:{value:t.form.epoch_num,callback:function(e){t.$set(t.form,"epoch_num",e)},expression:"form.epoch_num"}})],1),a("el-form-item",[a("router-link",{attrs:{to:"/modelManage"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("开始训练")])],1),a("el-button",[t._v("取消")])],1)],1)],1)])])},n=[],r=(a("7f7f"),a("bc3a")),i=a.n(r),l={name:"baseform",data:function(){return{options:[{value:"greedy",label:"贪婪搜索算法"},{value:"random",label:"随机搜索算法"}],form:{name:"",modelType:"",date1:"",date2:"",delivery:!0,resource:"图像分类",selfDefinitionSuperParameter:"",epoch_num:2,autoSearchMethod:"",trainDataset:"",testDataset:"",dataAugmentationManner:"默认配置",dataAugmentationParam:{shiftY:0,shiftX:0,rotateAngle:0,shearRange:0},dataAugmentationMethodShowFlag:{rotate:!1,shiftY:!1,shiftX:!1,shear:!1},dataAugmentationMethodFlag:[]},datasets:{}}},computed:{selfDefineParamShow:function(){return!this.form["delivery"]},autoSerchShow:function(){return!0},dataAugmentationMethodShow:function(){return"手动配置"==this.form.dataAugmentationManner},autoSearchConfig:function(){return this.form.delivery?this.form.autoSearchMethod:"None"},dataAugmentationConfig:function(){if("默认配置"==this.form.dataAugmentationManner)return{default:!0};for(var t={},e=0;e<this.form.dataAugmentationMethodFlag.length;e++)"width_shift_range"==this.form.dataAugmentationMethodFlag[e]?t[this.form.dataAugmentationMethodFlag[e]]=this.form.dataAugmentationParam["shiftX"]:"height_shift_range"==this.form.dataAugmentationMethodFlag[e]?t[this.form.dataAugmentationMethodFlag[e]]=this.form.dataAugmentationParam["shiftY"]:"rotation_range"==this.form.dataAugmentationMethodFlag[e]?t[this.form.dataAugmentationMethodFlag[e]]=this.form.dataAugmentationParam["rotateAngle"]:"shear_range"==this.form.dataAugmentationMethodFlag[e]?t[this.form.dataAugmentationMethodFlag[e]]=this.form.dataAugmentationParam["shearRange"]:t[this.form.dataAugmentationMethodFlag[e]]=!0;return t}},methods:{dataAugmentationMethodChange:function(t){this.form.dataAugmentationMethodShowFlag.rotate=!1,this.form.dataAugmentationMethodShowFlag.shiftY=!1,this.form.dataAugmentationMethodShowFlag.shiftX=!1,this.form.dataAugmentationMethodShowFlag.shear=!1;for(var e=0;e<t.length;e++)"rotation_range"==t[e]?this.form.dataAugmentationMethodShowFlag.rotate=!0:"height_shift_range"==t[e]?this.form.dataAugmentationMethodShowFlag.shiftY=!0:"width_shift_range"==t[e]?this.form.dataAugmentationMethodShowFlag.shiftX=!0:"shear_range"==t[e]&&(this.form.dataAugmentationMethodShowFlag.shear=!0)},onSubmit:function(){var t=this,e={name:this.form.name,modelType:this.form.modelType,trainDataset:this.form.trainDataset,testDataset:this.form.testDataset,autoSearchMethod:this.autoSearchConfig,selfDefinitionSuperParameter:this.form.selfDefinitionSuperParameter,epoch_num:this.form.epoch_num,dataAugmentationParams:this.dataAugmentationConfig};i.a.post("".concat("","/model.train"),e).then((function(e){t.$message.success("模型开始训练！")}))}},created:function(){var t=this;i.a.get("".concat("","/model.train")).then((function(e){t.datasets=e.data["datasets"],console.log(t.datasets)}))}},m=l,s=(a("aad3"),a("2877")),h=Object(s["a"])(m,o,n,!1,null,null,null);e["default"]=h.exports},aad3:function(t,e,a){"use strict";a("68d8")}}]);